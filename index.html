<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>„Ç´„Éº„ÉâÂàá„ÇäÊõø„ÅàÔºÜ‰øùÂ≠ò</title>
  <style>
body{
  background-color: white;
  margin: 0;
  padding: 0;
}

#viewer {
  width: 1080px;
  height: 300px;
  display: flex;
  flex-direction: column;
  gap: 20px;
  padding: 20px;
  background-color: black;
  margin: 0;
}

.row {
  display: flex;
  justify-content: center;
  gap: 10px;
}

.card {
  position: relative;
  width: 150px;
  flex: 0 0 77px;  /* ‚Üê „Åì„Çå„ÅåÈáçË¶ÅÔºöflex„Åß„Çµ„Ç§„Ç∫„ÇíÂõ∫ÂÆö */
  height: 120px;
  background-color: white;
  border: 2px solid #ccc;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  margin-top: -10px;
  padding-top: 15px;
  padding-bottom: 15px;
  padding-left: 10px;
  padding-right: 10px;
  overflow: hidden;
  
  animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes rotateIn {
  from { transform: rotate(-30deg) scale(0.8); opacity: 0; }
  to   { transform: rotate(0) scale(1); opacity: 1; }
}

@keyframes shake {
  0%, 100% { transform: translate(0); }
  25% { transform: translate(3px, 0); }
  50% { transform: translate(-3px, 0); }
  75% { transform: translate(2px, 0); }
}

@keyframes popIn {
  0% { transform: scale(0.5); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes bounceIn {
  0% { transform: translateY(-30px); opacity: 0; }
  50% { transform: translateY(10px); }
  100% { transform: translateY(0); opacity: 1; }
}
@keyframes slideLeftIn {
  0% { transform: translateX(-100px); opacity: 0; }
  100% { transform: translateX(0); opacity: 1; }
}

@keyframes slideRightIn {
  0% { transform: translateX(100px); opacity: 0; }
  100% { transform: translateX(0); opacity: 1; }
}

@keyframes flipIn {
  0% { transform: rotateY(90deg); opacity: 0; }
  100% { transform: rotateY(0); opacity: 1; }
}

@keyframes zoomRotate {
  0% { transform: scale(0.2) rotate(-180deg); opacity: 0; }
  100% { transform: scale(1) rotate(0); opacity: 1; }
}

@keyframes fadeDownIn {
  0% { transform: translateY(-40px); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}

@keyframes wiggle {
  0%, 100% { transform: rotate(0); }
  25% { transform: rotate(3deg); }
  50% { transform: rotate(-3deg); }
  75% { transform: rotate(2deg); }
}



/* ÂÖ±ÈÄö„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÇØ„É©„Çπ */
.card.rotate-in    { animation: rotateIn 0.4s ease-out; }
.card.shake-in     { animation: shake 0.3s ease-out; }
.card.pop-in       { animation: popIn 0.4s ease-out; }
.card.bounce-in    { animation: bounceIn 0.5s ease-out; }
.card.slide-left-in { animation: slideLeftIn 0.4s ease-out; }
.card.slide-right-in { animation: slideRightIn 0.4s ease-out; }
.card.flip-in { animation: flipIn 0.5s ease; }
.card.zoom-rotate { animation: zoomRotate 0.5s ease; }
.card.fade-down-in { animation: fadeDownIn 0.5s ease; }
.card.wiggle { animation: wiggle 0.4s ease; }

.card img {
  height: auto;
  object-fit: contain;
  margin: 0;
  filter: drop-shadow(0 0 5px  white); /* ‚úÖ „Åµ„Çè„Å£„Å®ÂÖâ„Çâ„Åõ„Çã */
}

.card .top-img {
  width: 85px;
  margin-top: -20px;
  margin-bottom: -5px;
}

.card .bottom-img {
  width: 80px;
  margin-top: -10px;
}

.card .overlay-text {
  position: absolute;
  bottom: 0px;
  left: 0;
  right: 0;
  text-align: center;
  font-size: 22px;
  font-weight: 900;
  pointer-events: none;

  margin-left: -2px;
  white-space: nowrap;
  overflow: visible;      /* „ÅØ„ÅøÂá∫„Åó„ÇíË®±ÂèØ */
  text-overflow: unset;  
  
}

.controls {
  margin-top: 20px;
  text-align: center;
}

.counter {
  font-size: 18px;
  display: inline-block;
  margin-right: 20px;
  color: white; /* ‚úÖ ÁôΩÊñáÂ≠ó„Å´„Åó„Å¶Ë¶ñË™çÊÄß„Ç¢„ÉÉ„Éó */
}

button {
  padding: 8px 16px;
  margin: 0 10px;
  font-size: 16px;
}
  </style>
</head>
<body>

<div id="viewer"></div>

<div class="controls">
  <span class="counter" id="pageCounter"></span>
  <button id="prevBtn">‚Üê Ââç„Å∏</button>
  <button id="nextBtn">Ê¨°„Å∏ ‚Üí</button>
  <button id="saveBtn">‰øùÂ≠ò</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script>
  const viewer = document.getElementById('viewer');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  const saveBtn = document.getElementById('saveBtn');
  const pageCounter = document.getElementById('pageCounter');
  const animations = [
  'rotate-in', 'shake-in', 'pop-in', 'bounce-in',
  'slide-left-in', 'slide-right-in', 'flip-in',
  'zoom-rotate', 'fade-down-in', 'wiggle'
];
  const count = 10;
  const isDebug = 0; // ‚Üê 1„Å™„ÇâË°®Á§∫„ÅÇ„Çä„ÄÅ0„Å™„ÇâÈùûË°®Á§∫
  const displayInterval = (isDebug>0? 2000:10000); // ‚Üê 1„Å™„ÇâË°®Á§∫„ÅÇ„Çä„ÄÅ0„Å™„ÇâÈùûË°®Á§∫

  // ‚úÖ ÈªíËÉåÊôØ„Å´Êò†„Åà„Çã„Ç´„É©„Éï„É´„ÅßË¶ñË™çÊÄß„ÅÆÈ´ò„ÅÑËâ≤
  const colors = {
    red: {
    background: '#F15BB5',
    border: '#E649A0',
    text: '#00F5D4',
    textShadow: '#1A1A1A'
  },
  green: {
    background: '#00B4D8',
    border: '#0077B6',
    text: '#FF6F00',
    textShadow: '#1A1A1A'
  },
  yellow: {
    background: '#FFD93D',
    border: '#E6C200',
    text: '#D90429',
    textShadow: '#FFFFFF'
  },
};
//cat, up, sun, frog , noon
const data = [
  // üîµ „Éö„Éº„Ç∏1
  [
    { top: 'like100.png', bottom: 'question.png', color: 'yellow', text: '„Ç¨„ÉÅ„É£' },
    // { top: 'follow.png', bottom: 'coal.png', color: 'yellow', text: '„Ç¨„ÉÅ„É£' },
    { top: 'heart_me.png', bottom: 'question.png', color: 'yellow', text: '„Ç¨„ÉÅ„É£' },
    { top: 'rose.png', bottom: 'zombie.png', color: 'red', text: '„Çæ„É≥„Éì' },
    { top: 'tiktok.png', bottom: 'golden_carrot.png', color: 'green', text: 'Èáë‰∫∫ÂèÇ' },
    { top: 'gg.png', bottom: 'fire.png', color: 'green', text: 'Â∞è„ÉÄ„É°' },
    { top: 'cat_paws.png', bottom: 'cat.png', color: 'green', text: 'Âº±ÊïµÊíÉÁ†¥' },
    { top: 'seriously.png', bottom: 'buff.png', color: 'green', text: 'ÁßªÂãï„Éê„Éï' },
    { top: 'finger_heart.png', bottom: 'skeleton.png', color: 'red', text: 'ÂºìÈöä' },
    { top: 'new_yer_protect.png', bottom: 'armored_wolf.png', color: 'green', text: '‰∏≠ÊïµÊíÉÁ†¥' },
    { top: 'minecraft.png', bottom: 'sun.png', color: 'red', text: 'Êô¥„Çå60Áßí' },
    { top: 'rosa.png', bottom: 'warden.png', color: 'red', text: '„Ç¨„ÉÅ„É£' },
    { top: 'sakura_mochi.png', bottom: 'warden.png', color: 'red', text: '„Ç¨„ÉÅ„É£' },
    { top: 'friendship.png', bottom: 'warden.png', color: 'yellow', text: '„Ç¨„ÉÅ„É£' },
    { top: 'easy.png', bottom: 'buff.png', color: 'yellow', text: 'ÁÑ°Êïµ15Áßí' },
    { top: 'perfume.png', bottom: 'TNT.png', color: 'red', text: 'TNT' },
    { top: 'love_you_jp.png', bottom: 'frog.png', color: 'green', text: 'Âº∑ÊïµÊíÉÁ†¥' },
    { top: 'strawberry_choco.png', bottom: 'fire.png', color: 'green', text: '‰∏≠„ÉÄ„É°' },
    { top: 'doughnut.png', bottom: 'ravager.png', color: 'red', text: '„É©„É¥„Çß' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'cap.png', bottom: 'buff.png', color: 'green', text: 'ÊîªÊíÉ„Éê„Éï' },
  ],
  [
    { top: 'mustache.png', bottom: 'buff.png', color: 'green', text: '‰ΩìÂäõ„Éê„Éï' },
    { top: 'hand_heart.png', bottom: 'blaze.png', color: 'red', text: '„Éñ„É¨„Ç§„Ç∫' },
    { top: 'confetti.png', bottom: 'vindicator.png', color: 'red', text: '„É¥„Ç£„Éá„Ç£' },
    { top: 'controller.png', bottom: 'turtle.png', color: 'yellow', text: '„É©„Ç§„ÉÄ„Éº' },
    { top: 'bee.png', bottom: 'buff.png', color: 'yellow', text: 'Â∑®Â§ßÂåñ' },
    { top: 'super_gg.png', bottom: 'fire.png', color: 'green', text: 'Â§ß„ÉÄ„É°' },
    { top: 'bowknot.png', bottom: 'sun.png', color: 'green', text: 'Êòº60Áßí' },
    { top: 'hearts.png', bottom: 'evoker.png', color: 'red', text: '„Ç®„É¥„Ç©„Ç´' },
    { top: 'love_you.png', bottom: 'wither_skeleton.png', color: 'red', text: '„Ç¶„Ç£„Çπ„Ç±' },
    { top: 'corgi.png', bottom: 'witch.png', color: 'red', text: 'Âº∑ÊïµËªçÂõ£' },
    { top: 'frog.png', bottom: 'kill_warden.png', color: 'green', text: '„Ç≠„É´3‰Ωì' },
    { top: 'forever_rosa.png', bottom: 'debuff.png', color: 'red', text: 'Âº±Âåñ5ÂàÜ' },
    { top: 'fortune_kitty.png', bottom: 'kill_wither.png', color: 'green', text: '„Ç≠„É´3‰Ωì' },
    { top: 'money_gun.png', bottom: 'fire.png', color: 'green', text: 'ÁâπÂ§ß„ÉÄ„É°' },
    { top: 'dj_glasses.png', bottom: 'random_enemy.png', color: 'red', text: 'Êïµ200‰Ωì' },
    { top: 'swan.png', bottom: 'warden.png', color: 'red', text: 'Ôºü‰Ωì' },
    { top: 'galaxy.png', bottom: 'wither.png', color: 'red', text: 'Ôºü‰Ωì' },
    { top: 'fireworks.png', bottom: 'tnt_many.png', color: 'red', text: 'TNTËä±ÁÅ´' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
  ],
  [

    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
    { top: 'genius.png', bottom: 'spider.png', color: 'red', text: '„ÇØ„É¢„Å®Â∑£' },
  ],
];

  let currentIndex = 0;

  function updateCounter() {
    pageCounter.textContent = `${currentIndex + 1} / ${data.length}`;
  }

  function generateCards() {
    viewer.innerHTML = '';
    const cardSet = data[currentIndex];

    const topRow = document.createElement('div');
    topRow.className = 'row';

    const bottomRow = document.createElement('div');
    bottomRow.className = 'row';

    for (let i = 0; i < 2 * count; i++) {
      const cardData = cardSet[i];
      const card = document.createElement('div');
      card.className = 'card';

const randomAnim = animations[Math.floor(Math.random() * animations.length)];
card.classList.add(randomAnim);
      
      const topImg = document.createElement('img');
      topImg.className = 'top-img';
      topImg.src = `gift/${cardData.top}`;
      topImg.alt = 'top image';

      const bottomImg = document.createElement('img');
      bottomImg.className = 'bottom-img';
      bottomImg.src = `image/${cardData.bottom}`;
      bottomImg.alt = 'bottom image';

      const colorSet = colors[cardData.color] || colors.red;
      card.style.backgroundColor = colorSet.background;
      card.style.borderColor = colorSet.border;

// „ÉÜ„Ç≠„Çπ„Éà„ÅØÁôΩËâ≤„Å™„ÅÆ„Åß JS ÂÅ¥„Åß„ÅØËâ≤ÊåáÂÆö‰∏çË¶Å
const textOverlay = document.createElement('div');
textOverlay.className = 'overlay-text';
textOverlay.textContent = cardData.text || '';
textOverlay.style.color = colorSet.text; // ‚úÖ Ëâ≤Êåá
textOverlay.style.textShadow = `
  2px 2px 0 ${colorSet.textShadow},
 -2px 2px 0 ${colorSet.textShadow},
  2px -2px 0 ${colorSet.textShadow},
 -2px -2px 0 ${colorSet.textShadow}
`;

      card.appendChild(topImg);
      card.appendChild(bottomImg);
      card.appendChild(textOverlay);

      const row = i < count ? topRow : bottomRow;
      row.appendChild(card);
    }

    viewer.appendChild(topRow);
    viewer.appendChild(bottomRow);
    updateCounter();
  }

  prevBtn.addEventListener('click', () => {
    if (currentIndex > 0) {
      currentIndex--;
      generateCards();
    }
  });

  nextBtn.addEventListener('click', () => {
    if (currentIndex < data.length - 1) {
      currentIndex++;
      generateCards();
    }
  });

  saveBtn.addEventListener('click', async () => {
    const images = viewer.querySelectorAll('img');
    const loaded = [];

    images.forEach(img => {
      if (!img.complete) {
        loaded.push(new Promise(resolve => {
          img.onload = resolve;
          img.onerror = resolve;
        }));
      }
    });

    await Promise.all(loaded);

    const canvas = await html2canvas(viewer, { useCORS: true });
    const dataUrl = canvas.toDataURL('image/png');

    const a = document.createElement('a');
    a.href = dataUrl;
    a.download = `cards_${currentIndex + 1}.png`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
  });

  generateCards();
  

  setInterval(() => {
  currentIndex = (currentIndex + 1) % data.length;
  generateCards();
}, displayInterval); // ‚Üê 3000ms = 3Áßí

if (!isDebug) {
  document.querySelector('.controls').style.display = 'none';
}
</script>
</body>
</html>
